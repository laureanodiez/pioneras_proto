<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Realidad Aumentada</title>
        <link rel="stylesheet" href="./css/style.css">
        <!-- Paleta de colores y tipografía de Google Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Sigmar&display=swap" rel="stylesheet">
        <!-- Enlace al archivo JavaScript principal -->
        <script src="./js/main.js" defer></script>
        <title>Experiencia de Realidad Aumentada</title>
        <!-- A-Frame y AR.js -->
        <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>
    </head>

    <body style="margin: 0; overflow: hidden;">
        <header class="banner">
            <div class="banner-content">
                <!-- Título a la izquierda -->
                <a href="index.html" target="">
                    <span class="banner-title">Pioneras</span>
                </a>

                <!-- Botones de navegación y logo a la derecha -->
                <nav class="banner-nav">
                    <a href="mas-informacion.html" class="nav-item">Más Información</a>
                    <a href="sobre-nosotros.html" class="nav-item">Sobre Nosotros</a>
                    <a href="https://www.unr.edu.ar" target="_blank">
                        <img src="./assets/banners/logounr.png" alt="Logo UNR" class="unr-logo">
                    </a>
                </nav>
            
                <!-- Menú desplegable para mobile -->
                <div class="dropdown-menu">
                    <button class="menu-icon" onclick="showDropdown()">≡</button>
                    <div class="dropdown-content">
                        <button onclick="location.href='mas-informacion.html'">Más Información</button>
                        <button onclick="location.href='sobre-nosotros.html'">Sobre Nosotros</button>
                        <a href="https://www.unr.edu.ar" target="_blank">
                            <img src="./assets/banners/logounr.png" alt="Logo UNR">
                        </a>
                    </div>
                </div>
            </div>
        </header>

        <a-scene embedded arjs="sourceType: webcam; sourceWidth: 1280; sourceHeight: 720; displayWidth: 800; displayHeight: 600;">
            <!-- Marcador personalizado -->
            <a-marker type="pattern" url="./markers/pionera1pattern.patt" emitevents>
                <a-box position="0 0.5 0" material="color: violet;"></a-box>
            
                <!-- Contenedor del recuadro de texto -->
                <a-entity position="0 1 -2" look-at="[camera]">
                <!-- Fondo del recuadro para el título -->
                <a-plane color="#640D75" height="0.3" width="1.2" position="0 0.4 0"></a-plane>
                <!-- Título en blanco -->
                <a-text value="Pionera I" color="#FFFFFF" position="0 0.4 0.01" align="center" width="2"></a-text>
                
                <!-- Fondo del recuadro para el texto descriptivo -->
                <a-plane color="#C8F29F" height="0.4" width="1.2" position="0 0 0"></a-plane>
                <!-- Texto descriptivo en negro -->
                <a-text value="Breve descripción inicial" color="#000000" position="0 0 0.01" align="center" width="1.8" wrap-count="25"></a-text>
                </a-entity>

                <!-- Partículas de nieve -->
                <a-entity 
                    particle-system="preset: snow; particleCount: 500; size: 0.1; velocityValue: 0 -1 0; color: #FFFFFF;" 
                    position="0 2 -2">
                </a-entity>
            </a-marker>

            <!-- Sonido -->
            <a-entity sound="src: url('assets/sounds/snow-sound.mp3'); autoplay: false; loop: true;" id="snowSound"></a-entity>

            <!-- Cámara y luz -->
            <a-entity camera></a-entity>
            <a-light type="ambient" color="#640D75"></a-light>
        </a-scene>

        <script>
            // Variables para controlar el sonido
            const marker = document.querySelector("a-marker");
            const soundEntity = document.querySelector("#snowSound");
            let soundPlayed = false;

            // Evento para detectar cuando el marcador aparece
            marker.addEventListener("markerFound", () => {
                if (!soundPlayed) {
                    soundEntity.components.sound.playSound();
                    soundPlayed = true; // Solo permite reproducir una vez
                }
            });
        </script>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <p>&copy; 2024 Pioneras. Todos los derechos reservados.</p>
                <p>#XperienciaUNR - Universidad Nacional de Rosario</p>
                <div class="footer-links">
                    <a href="#">Política de Privacidad</a>
                    <a href="#">Términos de Servicio</a>
                    <a href="#">Contacto</a>
                </div>
            </div>
        </footer>    
            
    </body>
</html>
